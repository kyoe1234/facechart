(function(f){var m=!!f._APPSPRESSO_DEBUG,e="ax.ext.net",b="ax.ext.net",h="GET",i="UTF-8",k=0;function d(t){if(!ax.isObject(t)){throw ax.error(ax.TYPE_MISMATCH_ERR)}if(!ax.isString(t.url)){throw ax.error(ax.TYPE_MISMATCH_ERR)}if(t.method&&!ax.isString(t.method)){throw ax.error(ax.TYPE_MISMATCH_ERR)}if(t.headers&&!ax.isObject(t.headers)){throw ax.error(ax.TYPE_MISMATCH_ERR)}if(t.params&&!ax.isObject(t.params)){throw ax.error(ax.TYPE_MISMATCH_ERR)}if(t.files&&!ax.isObject(t.files)){throw ax.error(ax.TYPE_MISMATCH_ERR)}if(t.download&&!ax.isString(t.download)){throw ax.error(ax.TYPE_MISMATCH_ERR)}if(t.encoding&&!ax.isString(t.encoding)){throw ax.error(ax.TYPE_MISMATCH_ERR)}if(t.timeout&&!ax.isNumber(t.timeout)){throw ax.error(ax.TYPE_MISMATCH_ERR)}if(t.success&&!ax.isFunction(t.success)){throw ax.error(ax.TYPE_MISMATCH_ERR)}if(t.error&&!ax.isFunction(t.error)){throw ax.error(ax.TYPE_MISMATCH_ERR)}if(t.sent&&!ax.isFunction(t.sent)){throw ax.error(ax.TYPE_MISMATCH_ERR)}if(t.received&&!ax.isFunction(t.received)){throw ax.error(ax.TYPE_MISMATCH_ERR)}var p=new Date();var r=null;var u={url:t.url,method:t.method||h,headers:t.headers||{},params:t.params||{},files:t.files||{},download:t.download||"",encoding:t.encoding||i,timeout:t.timeout||k,success:t.success?1:-1,error:t.error?1:-1,sent:t.sent?1:-1,received:t.received?1:-1,callerId:p};var o=100;var q=undefined;var s={success:t.success,error:t.error,sent:t.sent,received:t.received};r=this.execAsync("curl",ax.nop,function(){if(q){clearInterval(q)}t.error.apply(this,arguments)},[u]);var g=(function(v,w){return function(){v.execAsync("__getEvents",function(z){if(!z||z.length<1){return}for(var y=0;y<z.length;y++){var x=s[z[y].type];if(x){try{x.apply(null,z[y].params||[])}catch(A){}}if(z[y].type==="success"||z[y].type==="error"){clearInterval(q)}}},ax.nop,[w])}})(this,p);q=setInterval(g,o);if(t.timeout>0){f.setTimeout(function(){if(r){r.cancel();r=null}if(q){clearInterval(q)}},t.timeout)}return r}function c(o,r,g,q){if(!ax.isString(o)){throw ax.error(ax.TYPE_MISMATCH_ERR)}if(r&&!ax.isFunction(r)){throw ax.error(ax.TYPE_MISMATCH_ERR)}if(g&&!ax.isFunction(g)){throw ax.error(ax.TYPE_MISMATCH_ERR)}if(q&&!ax.isString(q)){throw ax.error(ax.TYPE_MISMATCH_ERR)}var p={method:"GET",url:o,headers:{},params:{},files:{},success:r,error:g,encoding:q};return this.curl(p)}function j(o,s,r,g,q){if(!ax.isString(o)){throw ax.error(ax.TYPE_MISMATCH_ERR)}if(s&&!ax.isObject(s)){throw ax.error(ax.TYPE_MISMATCH_ERR)}if(r&&!ax.isFunction(r)){throw ax.error(ax.TYPE_MISMATCH_ERR)}if(g&&!ax.isFunction(g)){throw ax.error(ax.TYPE_MISMATCH_ERR)}if(q&&!ax.isString(q)){throw ax.error(ax.TYPE_MISMATCH_ERR)}var p={method:"POST",url:o,headers:{},params:s||{},files:{},success:r,error:g,encoding:q||"UTF-8"};return this.curl(p)}function a(p,r,s,o,g){if(!ax.isString(p)){throw ax.error(ax.TYPE_MISMATCH_ERR)}if(!ax.isString(r)){throw ax.error(ax.TYPE_MISMATCH_ERR)}if(s&&!ax.isFunction(s)){throw ax.error(ax.TYPE_MISMATCH_ERR)}if(o&&!ax.isFunction(o)){throw ax.error(ax.TYPE_MISMATCH_ERR)}if(g&&!ax.isFunction(g)){throw ax.error(ax.TYPE_MISMATCH_ERR)}var q={method:"GET",url:p,headers:{},params:{},files:{},download:r,success:s,error:o,received:g};return this.curl(q)}function n(p,t,r,s,o,g){if(!ax.isString(p)){throw ax.error(ax.TYPE_MISMATCH_ERR)}if(t&&!ax.isObject(t)){throw ax.error(ax.TYPE_MISMATCH_ERR)}if(r&&!ax.isObject(r)){throw ax.error(ax.TYPE_MISMATCH_ERR)}if(s&&!ax.isFunction(s)){throw ax.error(ax.TYPE_MISMATCH_ERR)}if(o&&!ax.isFunction(o)){throw ax.error(ax.TYPE_MISMATCH_ERR)}if(g&&!ax.isFunction(g)){throw ax.error(ax.TYPE_MISMATCH_ERR)}var q={method:"POST",url:p,headers:{"Content-Type":"multipart/form-data"},params:t||{},files:r||{},success:s,error:o,sent:g};return this.curl(q)}function l(s,g,o){if(s&&!ax.isFunction(s)){throw ax.error(ax.TYPE_MISMATCH_ERR)}if(g&&!ax.isFunction(g)){throw ax.error(ax.TYPE_MISMATCH_ERR)}if(!ax.isObject(o)){throw ax.error(ax.TYPE_MISMATCH_ERR)}if(o.subject&&!ax.isString(o.subject)){throw ax.error(ax.TYPE_MISMATCH_ERR)}if(o.message&&!ax.isString(o.message)){throw ax.error(ax.TYPE_MISMATCH_ERR)}if(o.to&&!ax.isArray(o.to)){throw ax.error(ax.TYPE_MISMATCH_ERR)}if(o.cc&&!ax.isArray(o.cc)){throw ax.error(ax.TYPE_MISMATCH_ERR)}if(o.bcc&&!ax.isArray(o.bcc)){throw ax.error(ax.TYPE_MISMATCH_ERR)}if(o.attachments&&!ax.isArray(o.attachments)){throw ax.error(ax.TYPE_MISMATCH_ERR)}var r={subject:o.subject||"",message:o.message||"",to:o.to||[],cc:o.cc||[],bcc:o.bcc||[],attachments:o.attachments||[]};function p(){ax.bridge.removeListener(r.listener);if(s){s.apply(null,arguments)}}function q(){ax.bridge.removeListener(r.listener);if(g){g.apply(null,arguments)}}r.listener=ax.bridge.addListener(p,q);return this.execAsync("sendMail",ax.nop,q,[r])}ax.plugin(e,{curl:d,get:c,post:j,download:a,upload:n,sendMail:l},b)}(window));